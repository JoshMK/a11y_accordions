!function(t,e,a){"use strict";var r={};t.ARIAaccordion=r,r.NS="ARIAaccordion",r.AUTHOR="Scott O'Hara",r.VERSION="3.1.0",r.LICENSE="https://github.com/scottaohara/accessible_accordions/blob/master/LICENSE";var i="accordion__trigger",l="accordion__heading",n="accordion__panel",o=0;r.create=function(){var t,a,u,c,s,d,A="none",g=e.querySelectorAll("[data-aria-accordion]");for(o+=1,d=0;d<g.length;d++){var b;if((t=g[d]).hasAttribute("id")||(t.id="acc_"+o+"-"+d),e.querySelectorAll("#"+t.id+"> li").length?(a=e.querySelectorAll("#"+t.id+" li > ."+n),u=e.querySelectorAll("#"+t.id+" li > ."+l)):(a=e.querySelectorAll("#"+t.id+" > ."+n),u=e.querySelectorAll("#"+t.id+" > ."+l)),t.hasAttribute("data-default")&&(A=t.getAttribute("data-default")),s=t.hasAttribute("data-constant"),t.hasAttribute("data-multi"),t.hasAttribute("data-transition")){var h=t.querySelectorAll("."+n);for(b=0;b<h.length;b++)h[b].setAttribute("style","transition: "+t.getAttribute("data-transition")+"s ease-in-out")}for(r.setupPanels(t.id,a,A,s),r.setupHeadingButton(u,s),c=e.querySelectorAll("#"+t.id+"> li").length?e.querySelectorAll("#"+t.id+" li > ."+l+" ."+i):e.querySelectorAll("#"+t.id+" > ."+l+" ."+i),b=0;b<c.length;b++)c[b].addEventListener("click",r.actions),c[b].addEventListener("keydown",r.keytrolls)}},r.setupPanels=function(t,e,a,r){var i,l,n,o;for(i=0;i<e.length;i++)l=t+"_panel_"+(i+1),n=a,o=r,e[i].setAttribute("id",l),u(e[0],!0),"none"!==n&&NaN!==parseInt(n)&&(n<=1?u(e[0],!1):n-1>=e.length?u(e[e.length-1],!1):u(e[n-1],!1)),(o&&"none"===n||NaN===parseInt(n))&&u(e[0],!1)},r.setupHeadingButton=function(t,a){var r,l,n,o,u,s;for(s=0;s<t.length;s++)l=(r=t[s]).nextElementSibling.id,n=e.getElementById(l).getAttribute("aria-hidden"),o=e.createElement("button"),u=r.textContent,r.innerHTML="",o.setAttribute("type","button"),o.setAttribute("aria-controls",l),o.setAttribute("id",l+"_trigger"),o.classList.add(i),"false"===n?(c(o,!0),d(o,!0),a&&o.setAttribute("aria-disabled","true")):(c(o,!1),d(o,!1)),r.appendChild(o),o.appendChild(e.createTextNode(u))},r.actions=function(t){var a,n=this.id.replace(/_panel.*$/g,""),o=e.getElementById(this.getAttribute("aria-controls"));a=e.querySelectorAll("#"+n+"> li").length?e.querySelectorAll("#"+n+" li > ."+l+" ."+i):e.querySelectorAll("#"+n+" > ."+l+" ."+i),t.preventDefault(),r.togglePanel(t,n,o,a)},r.togglePanel=function(t,a,r,i){var l,n,o=t.target;if("true"!==o.getAttribute("aria-disabled")&&(l=o.getAttribute("aria-controls"),d(o,"true"),"true"===o.getAttribute("aria-expanded")?(c(o,"false"),u(r,"true")):(c(o,"true"),u(r,"false"),e.getElementById(a).hasAttribute("data-constant")&&s(o,"true")),e.getElementById(a).hasAttribute("data-constant")||!e.getElementById(a).hasAttribute("data-multi")))for(n=0;n<i.length;n++)o!==i[n]&&(d(i[n],"false"),l=i[n].getAttribute("aria-controls"),s(i[n],"false"),c(i[n],"false"),u(e.getElementById(l),"true"))},r.keytrolls=function(t){if(t.target.classList.contains(i)){var a,r=t.keyCode||t.which,n=this.id.replace(/_panel.*$/g,"");switch(a=e.querySelectorAll("#"+n+"> li").length?e.querySelectorAll("#"+n+" li > ."+l+" ."+i):e.querySelectorAll("#"+n+" > ."+l+" ."+i),r){case 35:t.preventDefault(),a[a.length-1].focus();break;case 36:t.preventDefault(),a[0].focus()}}},r.init=function(){r.create()};var u=function(t,e){t.setAttribute("aria-hidden",e)},c=function(t,e){t.setAttribute("aria-expanded",e)},s=function(t,e){t.setAttribute("aria-disabled",e)},d=function(t,e){t.setAttribute("data-current",e)};r.init()}(window,document);
